:root{
  --bg: #f5f7fb;
  --card: #ffffff;
  --text: #0f172a;
  --muted:#475569;
  --brand:#36a2eb;
  --ring: rgba(54,162,235,.2);
  --shadow: 0 10px 25px rgba(2,8,23,.06);
  --sidebar-collapsed: 72px;
  --sidebar-expanded: 220px;
}

body.dark{
  --bg:#0b1220;
  --card:#111a2b;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --brand:#4bc0c0;
  --ring: rgba(75,192,192,.25);
  --shadow: 0 10px 25px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font: 15px/1.5 Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background: radial-gradient(1200px 700px at 30% -10%, #dfe9f6 0%, transparent 60%),
              radial-gradient(900px 600px at 100% 0%, #d9f0ff 0%, transparent 50%),
              var(--bg);
}

/* ============ Sidebar ============ */
.sidebar{
  position:fixed; inset:0 auto 0 0;
  width:var(--sidebar-collapsed);
  background:#0f172a;
  color:#e5e7eb;
  transition:width .25s ease;
  z-index:10;
  box-shadow: 4px 0 20px rgba(2,8,23,.2);
}
.sidebar:hover{ width:var(--sidebar-expanded); }
.sidebar .sidebar-inner{ display:flex; flex-direction:column; height:100%; padding:12px }
.brand{
  display:flex; align-items:center; gap:10px; padding:8px 10px 16px 10px; border-bottom:1px solid rgba(255,255,255,.08);
}
.brand img{ width:36px; height:36px; object-fit:contain; filter:brightness(0) invert(1); }
.brand .brand-name{ font-weight:700; letter-spacing:.2px; display:none; }
.sidebar:hover .brand .brand-name{ display:inline-block; }

.nav{ display:flex; flex-direction:column; gap:8px; padding:12px 6px; }
.nav button{
  display:flex; align-items:center; gap:12px;
  width:100%;
  padding:12px 14px;
  background:transparent; border:0; color:#e2e8f0; cursor:pointer;
  border-radius:12px;
  transition: transform .15s ease, background .15s ease;
}
.nav button:hover{ background:rgba(255,255,255,.08); transform:translateX(2px); }
.nav .nav-ico{ width:24px; text-align:center; font-size:18px; }
.nav .nav-label{ display:none; white-space:nowrap; }
.sidebar:hover .nav .nav-label{ display:inline-block; }

/* Shift main when sidebar expands */
main{ margin-left:var(--sidebar-collapsed); transition: margin-left .25s ease; padding:24px; }
.sidebar:hover ~ main{ margin-left:var(--sidebar-expanded); }

/* ============ Cards / Layout ============ */
h2{ margin:0 0 14px; letter-spacing:.3px; }
h3{ margin:0 0 8px; }
.card{
  background:var(--card);
  border-radius:16px;
  box-shadow: var(--shadow);
  padding:16px;
}
.card.p0{ padding:0; }

.grid{ display:grid; gap:16px; }
.grid.two{ grid-template-columns: 1fr 1fr; }
.grid.three{ grid-template-columns: repeat(3, 1fr); }
@media (max-width: 1000px){ .grid.two, .grid.three{ grid-template-columns: 1fr; } }

.row{ display:flex; align-items:center; flex-wrap:wrap; }
.gap> *{ margin-right:8px; }
.mt8{ margin-top:8px; }
.mt12{ margin-top:12px; }

/* ============ Inputs / Buttons ============ */
input, select, button{
  font: inherit;
  border-radius:10px; border:1px solid #e2e8f0;
  padding:10px 12px;
  background:white;
}
body.dark input, body.dark select{ background:#0d1525; border-color:#1f2a44; color:var(--text); }
input:focus, select:focus{ outline:3px solid var(--ring); border-color:transparent; }

.btn-primary{
  background:var(--brand); border-color:transparent; color:white; font-weight:600;
  box-shadow:0 6px 14px rgba(54,162,235,.25);
}
.btn-secondary{ background:#e2e8f0; border-color:transparent; }
.btn-danger{ background:#ef4444; border-color:transparent; color:white; }
.btn-ghost{ background:transparent; border:1px dashed #cbd5e1; color:var(--muted); }

/* ============ Tables ============ */
.table-wrap{ overflow:auto; }
table{ width:100%; border-collapse:collapse; }
thead th{
  background:#f1f5f9; color:#0f172a; font-weight:700; text-align:left;
  padding:12px; position:sticky; top:0; z-index:1;
}
tbody td{ padding:12px; border-top:1px solid #e2e8f0; }
body.dark thead th{ background:#0f172a; color:#e5e7eb; }
body.dark tbody td{ border-color:#1e293b; }

/* ============ Charts ============ */
.chart-card{ height:260px; }      /* fixed height -> no growth */
#overviewChart, #reportChart{ height:100% !important; width:100% !important; display:block; }

/* ============ Budgets ============ */
.budget-item .bar{
  height:10px; background:#e2e8f0; border-radius:999px; overflow:hidden; margin-top:6px;
}
.budget-item .fill{ height:100%; width:0%; background:#22c55e; transition:width .3s ease; }

/* ============ News Grid ============ */
.news-grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:12px; }
@media (max-width: 900px){ .news-grid{ grid-template-columns: 1fr; } }
.news-grid .news-item{ padding:14px; border-bottom:1px solid #e5e7eb; background:var(--card); }
.news-grid .news-item h4{ margin:0 0 6px; font-size:16px; }
.news-grid .news-item a{ color:#0ea5e9; text-decoration:none; }
.news-grid .news-item a:hover{ text-decoration:underline; }
.news-grid .news-item p{ margin:0; color:var(--muted); }

/* ============ Markets Converter Row ============ */
.converter-row{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
.converter-row > *{ margin:0; }  /* keep inline; button won't drop */

.chatbox{ min-height:200px; max-height:340px; overflow:auto; }
.user-msg, .ai-msg{ padding:10px 12px; border-radius:12px; margin:8px 0; max-width:720px; }
.user-msg{ background:#dbeafe; align-self:flex-start; }
.ai-msg{ background:#e2e8f0; }
body.dark .user-msg{ background:#0b3b5e; }
body.dark .ai-msg{ background:#1f2a44; }

/* Hide tabs by default */
.tab-content.hidden{ display:none; }
